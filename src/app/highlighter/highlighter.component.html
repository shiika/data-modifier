<div class="wrapper__image">
  <img
    src="../../assets/sample.jpeg"
    alt="document image"
    (load)="setCoordinates()"
    #fileImage
  />
  <ng-container *ngFor="let item of data; let i = index">
    <canvas
      [id]="'canvas-' + i"
      [width]="fileImage.width"
      [height]="fileImage.height"
      [style]="{ display: activeIndex === i ? 'block' : 'none' }"
      class="item-line"
    ></canvas>
    <button
      type="button"
      class="wrapper__highlighter wrapper__highlighter__active"
      (click)="collapseItem(i)"
      [matTooltip]="item.word"
      [style]="{
        width: item.width,
        height: item.height,
        top: item.top,
        left: item.left
      }"
    ></button>
    <app-modifier
      *ngIf="item.collapsed"
      (onClose)="item.collapsed = false"
      (onSave)="saveChange($event, this.activeKey)"
      [item]="{ key: activeKey, value: getSidebarItemValue() }"
      [position]="{ top: item.modalTop, left: item.left }"
    >
    </app-modifier>
  </ng-container>
  <canvas
    id="grid-canvas"
    [width]="gridCoords.width"
    [height]="gridCoords.height"
  ></canvas>
</div>
